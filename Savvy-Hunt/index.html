<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Savvy Hunt - Live Event</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Plus Jakarta Sans"', 'sans-serif'],
                    },
                    colors: {
                        primary: { 400: '#fb923c', 500: '#f97316', 600: '#ea580c', 700: '#c2410c', }
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'float-organic': 'floatOrganic 6s ease-in-out infinite',
                        'scan-pulse': 'scanPulse 0.5s ease-in-out infinite alternate',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(30px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        floatOrganic: {
                            '0%, 100%': { transform: 'translate(0, 0) rotate(0deg)' },
                            '33%': { transform: 'translate(0, -8px) rotate(2deg)' },
                            '66%': { transform: 'translate(0, -4px) rotate(-2deg)' },
                        },
                        scanPulse: {
                            '0%': { opacity: '0.6', transform: 'scaleX(1)' },
                            '100%': { opacity: '1', transform: 'scaleX(1.2)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #FFF7ED;
            overflow-x: hidden;
            cursor: default;
            overscroll-behavior-y: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- 1. FLIP CARD STYLES (Ported for Index Page) --- */
        .flip-card {
            background-color: transparent;
            width: 100%;
            height: 360px; 
            perspective: 1000px;
        }

        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            transform-style: preserve-3d;
            border-radius: 24px; 
            box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.1); 
        }

        .flipped {
            transform: rotateY(180deg);
        }

        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 24px;
            padding: 28px 24px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            color: #111827;
            border: 1px solid rgba(255, 255, 255, 0.6);
        }

        /* FRONT FACE */
        .flip-card-front {
            background: rgba(255, 255, 255, 0.8); /* Slightly more opaque for index page readability */
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 2;
            transform: rotateY(0deg);
            box-shadow: inset 0 0 40px rgba(255,255,255,0.5); 
        }

        .flip-card-front.is-results {
            border: 1px solid rgba(251, 191, 36, 0.5);
            background: linear-gradient(145deg, rgba(255,255,255,0.95), rgba(254, 243, 199, 0.6));
            box-shadow: inset 0 0 20px rgba(251, 191, 36, 0.15), 0 10px 30px -10px rgba(251, 191, 36, 0.3);
        }

        /* BACK FACE */
        .flip-card-back {
            background: rgba(255, 255, 255, 0.95); 
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            transform: rotateY(180deg);
            z-index: 1;
            overflow: hidden;
        }

        /* FLIP CONTENT STYLES */
        .badge-container { width: 100%; display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; flex-shrink: 0; }
        .status-badge, .category-pill { font-size: 0.7rem; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px; padding: 6px 14px; border-radius: 100px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .is-results .status-badge { background: linear-gradient(135deg, #fcd34d, #fbbf24); color: #78350f; border: none; box-shadow: 0 4px 10px rgba(251, 191, 36, 0.3); }
        .status-live { background: #fee2e2; color: #dc2626; border: 1px solid #fecaca; }
        .status-soon { background: #fef3c7; color: #d97706; border: 1px solid #fde68a; }
        .status-done { background: #f3f4f6; color: #6b7280; border: 1px solid #e5e7eb; }
        .category-pill { background: white; border: 1px solid #e5e7eb; color: #6b7280; }

        .main-content { flex-grow: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
        .main-content h3 { font-size: 1.6rem; font-weight: 800; color: #1a202c; line-height: 1.1; margin-bottom: 12px; letter-spacing: -0.5px; }
        .main-content .location { font-size: 1rem; color: #4b5563; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; justify-content: center; font-weight: 500; }
        .main-content .teams-registered { font-size: 0.8rem; color: #9ca3af; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; }

        /* BUTTONS */
        .action-btn { width: 100%; padding: 14px; border-radius: 14px; font-weight: 700; font-size: 0.95rem; cursor: pointer; border: none; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); margin-top: auto; position: relative; overflow: hidden; flex-shrink: 0; letter-spacing: 0.5px; }
        .btn-view { background: linear-gradient(135deg, #fb923c, #ea580c); color: white; box-shadow: 0 8px 20px -5px rgba(234, 88, 12, 0.4); }
        .btn-view:hover { transform: translateY(-2px); box-shadow: 0 12px 25px -5px rgba(234, 88, 12, 0.5); }
        .btn-back { background: white; color: #4b5563; border: 1px solid #e5e7eb; margin-top: 15px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); }
        .btn-back:hover { background: #f9fafb; color: #111827; transform: translateY(-2px); box-shadow: 0 6px 10px -2px rgba(0,0,0,0.05); }

        /* WINNERS LIST */
        .winner-row { display: flex; align-items: center; margin-bottom: 8px; background: white; padding: 8px 12px; border-radius: 12px; border: 1px solid #f3f4f6; width: 100%; transition: transform 0.2s ease, box-shadow 0.2s ease; }
        .winner-row:hover { transform: scale(1.02); box-shadow: 0 4px 12px rgba(0,0,0,0.05); border-color: #e5e7eb; }
        .winner-row:last-child { margin-bottom: 0; }
        .medal { font-size: 1.4em; margin-right: 12px; flex-shrink: 0; }
        .winner-info { display: flex; flex-direction: column; text-align: left; overflow: hidden; }
        .student-name { font-weight: 700; color: #1f2937; font-size: 0.9rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .school-name { font-size: 0.7rem; color: #6b7280; font-weight: 600; text-transform: uppercase; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        /* --- EXISTING BUTTON STYLES --- */
        .btn-alive {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            letter-spacing: 0.5px;
            border-radius: 9999px;
            overflow: hidden;
            transition: transform 0.1s ease-out, box-shadow 0.2s ease;
            z-index: 10;
            cursor: pointer;
            background: linear-gradient(135deg, #fb923c 0%, #ea580c 100%); 
            color: white !important;
            box-shadow: 0 8px 25px -5px rgba(234, 88, 12, 0.5);
            border: 1px solid rgba(255,255,255,0.3);
            padding: 16px 24px;
            font-size: 1.125rem;
            width: 100%; 
        }
        @media (min-width: 640px) { .btn-alive { width: auto; } }
        .btn-alive:active { transform: scale(0.96); box-shadow: 0 4px 15px -5px rgba(234, 88, 12, 0.6); }

        /* Header Blue Button */
        .btn-alive-secondary {
            background: linear-gradient(135deg, #3b82f6 0%, #1e3a8a 100%);
            box-shadow: 0 8px 25px -5px rgba(59, 130, 246, 0.6);
            border-color: rgba(255,255,255,0.2);
        }
        .btn-alive-secondary:active { box-shadow: 0 4px 15px -5px rgba(59, 130, 246, 0.7); }

        .btn-alive::after {
            content: ''; position: absolute; top: 0; left: -150%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5), transparent);
            transform: skewX(-20deg); animation: shimmer 3.5s infinite; pointer-events: none;
        }
        @keyframes shimmer { 0% { left: -150%; } 30% { left: 150%; } 100% { left: 150%; } }

        /* --- 3. COMPACT SAVVY BOT --- */
        #savvy-bot-container { position: fixed; z-index: 100; top: 0; left: 0; width: 60px; height: 60px; transition: transform 4s cubic-bezier(0.4, 0, 0.2, 1); pointer-events: auto; cursor: pointer; }
        .bot-body { width: 48px; height: 48px; margin: 6px; background: radial-gradient(circle at 30% 30%, #ffffff, #fff7ed); border-radius: 50%; box-shadow: inset -3px -3px 8px rgba(234, 88, 12, 0.1), 0 8px 20px rgba(0,0,0,0.15), 0 0 0 2px rgba(255,255,255,0.9); position: relative; display: flex; align-items: center; justify-content: center; animation: float-organic 6s ease-in-out infinite; transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .bot-body:active { transform: scale(0.9); } .bot-body.windblown { transform: rotate(-15deg) translateX(-5px); }
        .bot-cheek { position: absolute; top: 28px; width: 6px; height: 4px; background: #fdba74; border-radius: 50%; opacity: 0.8; filter: blur(1px); z-index: 2; } .cheek-left { left: 8px; } .cheek-right { right: 8px; }
        .bot-eye { width: 32px; height: 18px; background: #0f172a; border-radius: 14px; position: relative; overflow: hidden; border: 2px solid #cbd5e1; box-shadow: inset 0 0 4px #000; z-index: 3; transition: all 0.2s ease; }
        .bot-pupil { width: 10px; height: 10px; background: #f97316; border-radius: 50%; position: absolute; top: 4px; left: 11px; box-shadow: 0 0 6px #f97316; transition: transform 0.1s; }
        .bot-eye.sleeping { height: 3px; margin-top: 6px; background: #334155; border-color: #475569; } .bot-eye.sleeping .bot-pupil, .bot-eye.sleeping .bot-cheek { opacity: 0; }
        .bot-scanning .bot-eye { border-color: #ea580c; box-shadow: 0 0 10px #ea580c; } .bot-scanning .bot-pupil { background: #ea580c; box-shadow: 0 0 10px #ea580c; width: 32px; height: 2px; border-radius: 0; top: 8px; left: 0; animation: none; }
        .laser-cone { position: absolute; top: 25px; left: 50%; transform: translateX(-50%) perspective(300px) rotateX(20deg); width: 40px; height: 0; background: linear-gradient(to bottom, rgba(234, 88, 12, 0.8) 0%, rgba(234, 88, 12, 0.1) 100%); clip-path: polygon(30% 0, 70% 0, 100% 100%, 0% 100%); opacity: 0; z-index: 50; pointer-events: none; transition: height 0.3s ease-out, opacity 0.3s ease-out; filter: drop-shadow(0 0 5px rgba(234,88,12,0.8)); mix-blend-mode: hard-light; } .bot-body.scanning .laser-cone { height: 120px; opacity: 1; animation: scan-pulse 0.2s infinite alternate; }
        .bot-antenna { position: absolute; top: -10px; left: 22px; width: 3px; height: 10px; background: #94a3b8; z-index: -1; } .bot-antenna::after { content: ''; position: absolute; top: -5px; left: -2.5px; width: 8px; height: 8px; background: #f97316; border-radius: 50%; box-shadow: 0 0 8px #f97316; }
        .bot-bubble { position: absolute; top: -45px; left: 50%; transform: translateX(-50%) scale(0) translateY(10px); background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(8px); padding: 8px 14px; border-radius: 12px; box-shadow: 0 8px 25px rgba(0,0,0,0.15); font-size: 11px; font-weight: 700; color: #c2410c; white-space: nowrap; opacity: 0; transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); pointer-events: none; border: 1px solid white; } .bot-bubble.show { opacity: 1; transform: translateX(-50%) scale(1) translateY(0); } .bot-bubble::after { content: ''; position: absolute; bottom: -5px; left: 50%; margin-left: -5px; border-width: 5px 5px 0; border-style: solid; border-color: #fff transparent transparent transparent; }

        /* --- UI BASICS --- */
        .bg-parallax-text { position: fixed; top: 50%; left: -10%; font-size: 20vh; font-weight: 900; color: rgba(234, 88, 12, 0.03); white-space: nowrap; pointer-events: none; z-index: 0; transform: translateY(-50%); will-change: transform; }
        .scroll-line-track { position: fixed; left: 0; top: 0; width: 4px; height: 100vh; background: rgba(0,0,0,0.05); z-index: 50; }
        .scroll-line-fill { width: 100%; height: 0%; background: linear-gradient(to bottom, #fb923c, #ea580c); box-shadow: 2px 0 10px rgba(234, 88, 12, 0.5); }
        .blur-word { display: inline-block; opacity: 0; filter: blur(12px); transform: translateY(20px); transition: all 0.8s ease; margin-right: 0.2em; }
        .blur-word.visible { opacity: 1; filter: blur(0); transform: translateY(0); }
        
        /* Hover Card for Scoreboard Section */
        .card { background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(20px); border-radius: 2rem; border: 1px solid rgba(255, 255, 255, 0.6); box-shadow: 0 20px 40px -5px rgba(0, 0, 0, 0.05); transition: transform 0.4s ease; }
        .card:hover { transform: scale(1.02); box-shadow: 0 30px 60px -10px rgba(234, 88, 12, 0.15); }
        #hero-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 2; pointer-events: none; }
    </style>
</head>
<body class="text-slate-800 antialiased">

    <div class="scroll-line-track"><div class="scroll-line-fill" id="scroll-fill"></div></div>
    <div class="bg-parallax-text" id="big-parallax-text">SAVVY HUNT 2025</div>

    <!-- SAVVY BOT -->
    <div id="savvy-bot-container" style="transform: translate(80vw, 80vh);">
        <div class="bot-bubble" id="bot-bubble">Online! üü†</div>
        <div class="bot-body" id="bot-body">
            <div class="laser-cone"></div>
            <div class="bot-cheek cheek-left"></div>
            <div class="bot-cheek cheek-right"></div>
            <div class="bot-antenna"></div>
            <div class="bot-eye" id="bot-eye"><div class="bot-pupil" id="bot-pupil"></div></div>
        </div>
    </div>

    <!-- HERO SECTION -->
    <section id="hero-section" class="relative min-h-[65vh] md:min-h-[90vh] flex flex-col justify-center items-center text-white text-center rounded-b-[3rem] overflow-hidden shadow-2xl z-10 pt-16 pb-8 md:py-0">
        <div class="absolute inset-0 bg-[#0f172a] bg-top bg-no-repeat bg-cover" style="background-image: url('assests/bg.png');"></div>
        <div class="absolute inset-0 bg-gradient-to-b from-slate-900/60 via-slate-900/50 to-slate-900/95"></div>
        <canvas id="hero-canvas"></canvas>
        <div class="relative z-20 px-4 max-w-5xl w-full parallax-layer" data-speed="-0.1">
            <h1 id="hero-title" class="text-4xl md:text-8xl font-black mb-4 drop-shadow-2xl tracking-tighter leading-none min-h-[90px] md:min-h-[160px]"></h1>
            <p class="text-base md:text-3xl font-bold mb-8 drop-shadow-lg opacity-0 animate-fade-in-up [animation-delay:600ms] text-orange-50">The ultimate showdown is <span class="text-orange-500">NOW!</span></p>
            
            <div class="flex flex-col sm:flex-row gap-4 justify-center w-full max-w-2xl mx-auto opacity-0 animate-fade-in-up [animation-delay:800ms]">
                <a href="#live-events" class="btn-alive hover-trigger w-full sm:flex-1" data-bot-say="Check the live feed! ‚ö°">
                    See What's Happening LIVE
                </a>
                <a href="scoreboard.html" class="btn-alive btn-alive-secondary hover-trigger w-full sm:flex-1" data-bot-say="Let's see the ranks! üèÜ">
                    View Scoreboard
                </a>
            </div>
        </div>
    </section>

    <div class="max-w-7xl mx-auto p-4 md:p-12 relative -mt-12 z-20">
        
        <!-- LIVE EVENTS SECTION (FLIP CARDS) -->
        <section id="live-events" class="text-center mb-40 pt-24">
            <span class="inline-block py-1 px-3 rounded-full bg-orange-50 text-orange-600 text-xs font-bold tracking-widest mb-4 border border-orange-200 opacity-0 animate-fade-in-up [animation-delay:1000ms]">LIVE FEED</span>
            <h2 class="text-4xl md:text-8xl font-extrabold mb-6 text-slate-900 opacity-0 animate-fade-in-up [animation-delay:1100ms] tracking-tighter">Real-Time <span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-500 to-orange-700 pb-2 pr-1">Updates</span></h2>
            
            <div id="events-grid" class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-10 mb-12">
                <div class="col-span-1 md:col-span-3 py-24 bg-white/60 backdrop-blur-xl rounded-[2.5rem] border border-white shadow-xl">
                    <div class="flex flex-col items-center animate-pulse">
                        <div class="w-12 h-12 border-[5px] border-orange-500 border-t-transparent rounded-full animate-spin mb-4"></div>
                        <p class="text-slate-400 font-bold text-lg">Syncing satellite feed...</p>
                    </div>
                </div>
            </div>

            <div class="text-center">
                <a href="schedule.html" class="btn-alive hover-trigger px-12 sm:w-auto" data-bot-say="Full Schedule!">Go to Full Event</a>
            </div>
        </section>

        <!-- SCOREBOARD PREVIEW -->
        <section id="scoreboard-section" class="hover-trigger card bg-white/90 p-8 md:p-20 mb-40 opacity-0 animate-fade-in-up [animation-delay:200ms] relative overflow-hidden" data-bot-say="Calculating stats... üßÆ">
             <div class="absolute top-0 right-0 w-96 h-96 bg-orange-200/30 rounded-full blur-3xl -mr-20 -mt-20 animate-pulse"></div>
             <div class="absolute bottom-0 left-0 w-80 h-80 bg-orange-100/40 rounded-full blur-3xl -ml-20 -mb-20 animate-pulse" style="animation-delay: 1.5s"></div>
             <div class="text-center max-w-4xl mx-auto mb-12 relative z-10">
                <h2 class="text-4xl md:text-7xl font-black mb-4 tracking-tighter text-slate-900">Who's <span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-500 to-orange-700 pb-2 pr-1">Leading?</span></h2>
                <p class="text-slate-500 font-medium">Top 3 contenders fighting for glory.</p>
            </div>
            <div id="top-3-container" class="max-w-3xl mx-auto space-y-4 relative z-10">
                <p class="text-center text-slate-400 py-10">Loading rankings...</p>
            </div>
             <div class="text-center mt-16 relative z-10">
                 <a href="scoreboard.html" class="btn-alive px-12 sm:w-auto">View Full Scoreboard</a>
             </div>
        </section>

        <!-- GALLERY SECTION -->
        <section id="gallery-section" class="mb-40 px-2">
            <div class="text-center max-w-3xl mx-auto mb-12">
                <h2 class="text-4xl md:text-7xl font-black mb-4 tracking-tighter text-slate-900"><span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-500 to-orange-700 pb-2 pr-1">Snapshots</span></h2>
                <p class="text-slate-600 text-lg">Moments captured in time.</p>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-8 px-2 mb-12">
                <div class="hover-trigger rounded-[2.5rem] overflow-hidden h-80 shadow-2xl border-[6px] border-white transform rotate-[-3deg] bg-gray-200 relative hover:rotate-0 hover:scale-105 transition duration-500 group" data-bot-say="Nice pic! üì∏">
                    <div class="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition z-10"></div>
                    <img src="assests/group2.jpg" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/600x800/orange/white?text=Snapshot'">
                </div>
                <div class="hover-trigger rounded-[2.5rem] overflow-hidden h-80 shadow-2xl border-[6px] border-white transform translate-y-[-40px] z-20 bg-gray-200 relative hover:translate-y-[-50px] hover:scale-105 transition duration-500 group" data-bot-say="Look at that! üëÄ">
                    <div class="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition z-10"></div>
                    <img src="assests/group1.jpg" class="w-full h-full object-cover" onerror="this.src='https://placehold.co/600x800/orange/white?text=Snapshot'">
                </div>
                <div class="hover-trigger rounded-[2.5rem] overflow-hidden h-80 shadow-2xl border-[6px] border-white transform rotate-[3deg] bg-gray-200 relative hover:rotate-0 hover:scale-105 transition duration-500 group" data-bot-say="So cool! ‚ú®">
                    <div class="absolute inset-0 bg-black/0 group-hover:bg-black/10 transition z-10"></div>
                    <img src="https://images.unsplash.com/photo-1511632765486-a01980e01a18?w=600&auto=format&fit=crop&q=60" class="w-full h-full object-cover">
                </div>
            </div>
             <div class="text-center">
                <a href="snapshots.html" class="btn-alive px-12 sm:w-auto">Open Gallery</a>
             </div>
        </section>

        <!-- ABOUT SECTION -->
        <section id="about-section" class="mb-32 px-2 md:px-4 relative z-20">
             <div class="bg-white/80 backdrop-blur-xl rounded-[3rem] p-8 md:p-20 lg:flex lg:items-center lg:gap-20 shadow-2xl border border-white">
                <div class="lg:w-1/2">
                    <h2 class="text-3xl md:text-5xl font-black mb-6 text-slate-900 tracking-tight">What is <span class="text-orange-500">Savvy Hunt?</span></h2>
                    <p class="text-lg text-slate-600 mb-10 leading-relaxed">It's not just a game. It's a digital battlefield where students compete in real-time challenges.</p>
                    <a href="about.html" class="text-orange-600 font-bold hover:text-orange-700 flex items-center gap-2 text-lg group hover-trigger" data-bot-say="Learn more! üìö">Our Mission <span class="group-hover:translate-x-1 transition-transform">‚Üí</span></a>
                </div>
                <div class="lg:w-1/2 mt-12 lg:mt-0">
                    <div class="bg-gradient-to-br from-orange-50 to-white rounded-[2.5rem] p-10 border border-orange-100 shadow-lg transform rotate-2 hover:rotate-0 transition duration-500">
                        <h3 class="text-2xl font-bold mb-4 text-slate-900">Student Organized</h3>
                        <p class="text-base text-slate-600 mb-6">Proudly run by the District Student Council.</p>
                        <div class="flex gap-2">
                            <div class="h-3 w-3 rounded-full bg-orange-400 animate-bounce"></div>
                            <div class="h-3 w-3 rounded-full bg-orange-400 animate-bounce" style="animation-delay: 0.2s"></div>
                            <div class="h-3 w-3 rounded-full bg-orange-400 animate-bounce" style="animation-delay: 0.4s"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <footer class="bg-slate-950 text-slate-400 pt-32 pb-12 -mt-20 relative z-10" style="border-top-left-radius: 3rem; border-top-right-radius: 3rem;">
        <div class="max-w-7xl mx-auto px-6 text-center">
            <h3 class="text-3xl font-bold text-white mb-2 tracking-tight">Savvy Hunt <span class="text-orange-500">2025</span></h3>
            <p class="text-sm text-slate-500 mb-8">&copy; 2025 Savvy Hunt.</p>
            <a href="admin_page/login.html" class="opacity-20 hover:opacity-80 transition-opacity text-lg p-2 grayscale hover:grayscale-0">üîê</a>
        </div>
    </footer>

    <script>
        // --- SAVVY BOT INTELLIGENCE ---
        document.addEventListener('DOMContentLoaded', () => {
            const botContainer = document.getElementById('savvy-bot-container');
            const botBody = document.getElementById('bot-body');
            const botEye = document.getElementById('bot-eye');
            const botPupil = document.getElementById('bot-pupil');
            const botBubble = document.getElementById('bot-bubble');
            
            let isSleeping = false;
            let idleTimer;
            let lastScrollY = 0;

            const tileMessages = {
                'hero-section': "Ready to start? üöÄ",
                'live-events': "Incoming data... üì°",
                'scoreboard-section': "Who is winning? üèÜ",
                'gallery-section': "Say cheese! üì∏",
                'about-section': "Our mission. üìú"
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && !isSleeping) {
                        const msg = tileMessages[entry.target.id];
                        if (msg) showBubble(msg);
                    }
                });
            }, { threshold: 0.5 }); 

            Object.keys(tileMessages).forEach(id => {
                const el = document.getElementById(id);
                if (el) observer.observe(el);
            });

            const clickPhrases = ["Beep Boop! ü§ñ", "Stop poking! üí¢", "System OK. ‚úÖ", "I'm watching... üëÄ"];
            botContainer.addEventListener('click', () => {
                if(isSleeping) { wakeUp(); return; }
                botBody.style.transform = "scale(0.9)";
                setTimeout(() => botBody.style.transform = "scale(1)", 150);
                const txt = clickPhrases[Math.floor(Math.random() * clickPhrases.length)];
                showBubble(txt);
            });

            function pickNewPosition() {
                if(isSleeping || botBody.classList.contains('scanning')) return;
                const w = window.innerWidth;
                const h = window.innerHeight;
                const pad = 60; 
                const botSize = 60;
                const zones = [
                    {x: pad, y: pad + 80},              
                    {x: w - pad - botSize, y: pad + 80},
                    {x: pad, y: h - 120},               
                    {x: w - pad - botSize, y: h - 120}, 
                    {x: pad, y: h/2},                   
                    {x: w - pad - botSize, y: h/2}      
                ];
                const choice = zones[Math.floor(Math.random() * zones.length)];
                const x = choice.x + (Math.random() * 30 - 15);
                const y = choice.y + (Math.random() * 30 - 15);
                botContainer.style.transform = `translate(${x}px, ${y}px)`;
                if(Math.random() > 0.75) setTimeout(triggerScan, 2500);
            }
            setInterval(pickNewPosition, 10000);
            setTimeout(pickNewPosition, 200);

            function triggerScan() {
                botBody.classList.add('scanning');
                showBubble("Scanning area... üîç");
                setTimeout(() => botBody.classList.remove('scanning'), 3000);
            }

            function showBubble(text) {
                botBubble.textContent = text;
                botBubble.classList.add('show');
                setTimeout(() => botBubble.classList.remove('show'), 3000);
            }

            function wakeUp() {
                if(isSleeping) {
                    isSleeping = false;
                    botEye.classList.remove('sleeping');
                    showBubble("I'm awake! üò≥");
                }
                clearTimeout(idleTimer);
                idleTimer = setTimeout(goToSleep, 10000);
            }
            function goToSleep() {
                isSleeping = true;
                botEye.classList.add('sleeping');
                showBubble("Powering down... üò¥");
            }
            document.addEventListener('mousemove', (e) => {
                wakeUp();
                if(!isSleeping && !botBody.classList.contains('scanning')) {
                    const rect = botEye.getBoundingClientRect();
                    const cx = rect.left + rect.width/2;
                    const cy = rect.top + rect.height/2;
                    const angle = Math.atan2(e.clientY - cy, e.clientX - cx);
                    const dist = Math.min(4, Math.hypot(e.clientX - cx, e.clientY - cy));
                    botPupil.style.transform = `translate(${Math.cos(angle)*dist}px, ${Math.sin(angle)*dist}px)`;
                }
            });

            window.addEventListener('scroll', () => {
                resetSleepTimer();
                const st = window.scrollY;
                if (Math.abs(st - lastScrollY) > 40) {
                    botBody.classList.add('windblown');
                } else {
                    botBody.classList.remove('windblown');
                }
                lastScrollY = st;
                const pText = document.getElementById('big-parallax-text');
                if(window.innerWidth > 768) pText.style.transform = `translateY(-50%) translateX(${st * 0.2}px)`;
                const total = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                document.getElementById('scroll-fill').style.height = (st / total * 100) + "%";
            });

            function resetSleepTimer() {
                if(isSleeping) wakeUp();
                else {
                    clearTimeout(idleTimer);
                    idleTimer = setTimeout(goToSleep, 10000);
                }
            }

            document.querySelectorAll('.hover-trigger').forEach(el => {
                el.addEventListener('mouseenter', () => {
                    const txt = el.getAttribute('data-bot-say');
                    if(txt) showBubble(txt);
                });
            });
        });

        // --- TEXT ANIMATION ---
        document.addEventListener('DOMContentLoaded', () => {
            const titleContainer = document.getElementById('hero-title');
            const phrases = [{ text: "Welcome to the", color: "text-white" }, { break: true }, { text: "Savvy", color: "text-orange-500" }, { text: "Hunt!", color: "text-orange-500" }];
            let delayCounter = 150;
            phrases.forEach(phrase => {
                if (phrase.break) titleContainer.appendChild(document.createElement('br'));
                else {
                    const spanWrapper = document.createElement('span');
                    phrase.text.split(' ').forEach(word => {
                        const wordSpan = document.createElement('span');
                        wordSpan.textContent = word + '\u00A0';
                        wordSpan.className = `blur-word ${phrase.color}`;
                        wordSpan.style.transitionDelay = `${delayCounter}ms`;
                        spanWrapper.appendChild(wordSpan);
                        delayCounter += 150;
                    });
                    titleContainer.appendChild(spanWrapper);
                }
            });
            setTimeout(() => document.querySelectorAll('.blur-word').forEach(span => span.classList.add('visible')), 100);
        });

        // --- HERO PARTICLES ---
        document.addEventListener('DOMContentLoaded', () => {
            const canvas = document.getElementById('hero-canvas');
            const ctx = canvas.getContext('2d');
            let particles = [];
            function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
            window.addEventListener('resize', resize); resize();
            class Particle {
                constructor() { this.x=Math.random()*canvas.width; this.y=Math.random()*canvas.height; this.size=Math.random()*3+1; this.speedX=Math.random()-0.5; this.speedY=Math.random()-0.5; this.color=Math.random()>0.6?'rgba(255,255,255,0.8)':'rgba(249,115,22,0.8)'; }
                update() { this.x+=this.speedX; this.y+=this.speedY; if(this.x>canvas.width)this.x=0; if(this.x<0)this.x=canvas.width; if(this.y>canvas.height)this.y=0; if(this.y<0)this.y=canvas.height; }
                draw() { ctx.fillStyle=this.color; ctx.beginPath(); ctx.arc(this.x,this.y,this.size,0,Math.PI*2); ctx.fill(); }
            }
            function init() { for(let i=0; i<(window.innerWidth<768?40:80); i++) particles.push(new Particle()); }
            function animate() { ctx.clearRect(0,0,canvas.width,canvas.height); particles.forEach(p=>{p.update();p.draw();}); requestAnimationFrame(animate); }
            init(); animate();
        });

        // --- SUPABASE & FLIP CARDS ---
        const SUPABASE_URL = 'https://updkjbvelzlleowheeyq.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVwZGtqYnZlbHpsbGVvd2hlZXlxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzOTI2NzcsImV4cCI6MjA3ODk2ODY3N30.lmCwbNDt3CiRXCVWjJl-4ZB242Ttfoo-J9yw3W7_Ark';
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        const grid = document.getElementById('events-grid');
        const scoreContainer = document.getElementById("top-3-container");

        window.toggleFlip = function(cardId) {
            const cardInner = document.getElementById(cardId);
            if(cardInner) {
                cardInner.classList.toggle('flipped');
            }
        }

        async function fetchEvents() {
            const { data } = await supabase.from('live_events').select('*').order('created_at', { ascending: false }).limit(3);
            grid.innerHTML = '';
            if (!data || data.length === 0) { grid.innerHTML = `<div class="col-span-3 text-slate-400 py-10">No live events.</div>`; return; }
            
            data.forEach((event, i) => {
                const uniqueId = `card-index-${i}`;
                let badgeClass = 'status-done';
                let badgeText = 'FINISHED';
                let btnText = 'View Results';
                let isResults = false;
                let frontCardClass = ''; 

                if (event.status === 'Results Published') {
                    badgeText = 'üèÅ RESULTS OUT';
                    isResults = true;
                    frontCardClass = 'is-results'; 
                } else if (event.status === 'Live') {
                    badgeClass = 'status-live';
                    badgeText = 'üî¥ LIVE NOW';
                    btnText = 'View Details';
                } else if (event.status === 'Soon') {
                    badgeClass = 'status-soon';
                    badgeText = 'üü° COMING SOON';
                    btnText = 'View Details';
                }

                // Winners data
                const student1 = event.student_1 || 'TBA';
                const school1 = event.winner_1 || 'TBA';
                const student2 = event.student_2 || '-';
                const school2 = event.winner_2 || '-';
                const student3 = event.student_3 || '-';
                const school3 = event.winner_3 || '-';

                const winnersHTML = `
                    <div class="winner-row">
                        <span class="medal">ü•á</span>
                        <div class="winner-info">
                            <span class="student-name">${student1}</span>
                            <span class="school-name">${school1}</span>
                        </div>
                    </div>
                    <div class="winner-row">
                        <span class="medal">ü•à</span>
                        <div class="winner-info">
                            <span class="student-name">${student2}</span>
                            <span class="school-name">${school2}</span>
                        </div>
                    </div>
                    <div class="winner-row">
                        <span class="medal">ü•â</span>
                        <div class="winner-info">
                            <span class="student-name">${student3}</span>
                            <span class="school-name">${school3}</span>
                        </div>
                    </div>
                `;

                const waitingHTML = `
                    <div class="flex flex-col items-center justify-center h-48 text-center text-gray-600">
                        <div class="text-4xl mb-3 opacity-50">‚è≥</div>
                        <p class="text-base font-bold text-gray-600">Coming Soon</p>
                        <p class="text-xs font-medium opacity-70">Results pending.</p>
                    </div>
                `;

                const cardHTML = `
                <div class="flip-card opacity-0 animate-fade-in-up" style="animation-delay: ${i*150}ms">
                    <div class="flip-card-inner" id="${uniqueId}">
                        
                        <!-- FRONT OF CARD -->
                        <div class="flip-card-front ${frontCardClass}">
                            <div class="badge-container">
                                <span class="status-badge ${badgeClass}">${badgeText}</span>
                                <span class="category-pill">${event.category || 'General'}</span>
                            </div>

                            <div class="main-content">
                                <h3 class="font-extrabold">${event.name}</h3>
                                <div class="location">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4 text-orange-500">
                                        <path fill-rule="evenodd" d="M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd" />
                                    </svg>
                                    ${event.location || 'Venue TBA'}
                                </div>
                                <p class="teams-registered">Teams Registered: ${event.teams || 0}</p>
                            </div>
                            
                            <button onclick="toggleFlip('${uniqueId}')" class="action-btn btn-view">
                                ${btnText} &rarr;
                            </button>
                        </div>

                        <!-- BACK OF CARD -->
                        <div class="flip-card-back">
                            <div class="w-full flex-grow flex flex-col justify-center">
                                <h4 class="text-slate-800 font-black uppercase text-xs border-b-2 border-orange-100 pb-3 mb-4 tracking-wider text-left flex items-center gap-2">
                                    <span class="text-lg">üèÜ</span> Winners Podium
                                </h4>
                                ${isResults ? winnersHTML : waitingHTML}
                            </div>
                            
                            <button onclick="toggleFlip('${uniqueId}')" class="action-btn btn-back">
                                &larr; Back to Info
                            </button>
                        </div>

                    </div>
                </div>
                `;
                
                grid.innerHTML += cardHTML;
            });
        }

        async function loadTopThree() {
            const { data } = await supabase.from("scoreboard").select("*").order("total", { ascending: false }).limit(3);
            scoreContainer.innerHTML = "";
            if(data) data.forEach((r, i) => {
                let c = ['text-orange-600','text-blue-600','text-yellow-600'][i] || 'text-slate-600';
                let icon = ['üèÜ','‚ö°','üåü'][i] || '#';
                scoreContainer.innerHTML += `<div class="bg-white p-4 rounded-2xl flex items-center shadow-sm opacity-0 animate-fade-in-up" style="animation-delay: ${i*150}ms"><div class="text-2xl font-black text-slate-300 w-10 text-center">${i+1}</div><div class="w-10 h-10 rounded-full border flex items-center justify-center text-xl mr-4">${icon}</div><div class="flex-1 font-bold text-slate-900">${r.name}</div><div class="font-black text-lg ${c}">${r.total.toLocaleString()}</div></div>`;
            });
        }
        
        fetchEvents(); loadTopThree();
        supabase.channel("public-channel").on('postgres_changes', { event: '*', schema: 'public', table: 'live_events' }, fetchEvents).on("postgres_changes", { event: "*", schema: "public", table: "scoreboard" }, loadTopThree).subscribe();
    </script>
</body>
</html>